#include <bits/stdc++.h>
#define ll long long int
#define db double

const int N=1e6+10;
using namespace std;

vector<bool>v(N,0);


int main()
{
    ios::sync_with_stdio(false);
    cin.tie(0);

    //memset(dp,-1, sizeof(dp));


    int t=1;
    cin >> t;



    while (t--)
    {

       ll n;
       cin>>n;

       vector<ll>v(n);

       for(int i=0; i<n; i++)
        cin>>v[i];

       reverse(v.begin(), v.end());

       vector<ll>pre;
       pre.push_back(0);

       for(int i=0; i<n; i++){
            pre.push_back(pre.back()+v[i]);
       }

       vector<pair <ll, ll>>temp;

       for(int i=0; i<n; i++){
            temp.push_back({v[i], i});
       }

       sort(temp.rbegin(), temp.rend());

       int ind=0;

       for(int i=0; i<n; i++){
            if(i< temp[ind].second){
                cout<<pre[i]+temp[ind].first<<" ";

            }
            else
            {
                while (i> temp[ind].second){
                    ind++;
                }

                cout<<pre[i]+temp[ind].first<<" ";

            }
       }

       cout<<endl;

    }

    return 0;

    }
